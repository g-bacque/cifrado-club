.topbar{max-width:1100px;margin:18px auto;padding:18px 24px;display:flex;align-items:center;justify-content:space-between;gap:20px;background:#1f2937;color:#fff;border-radius:12px;box-shadow:0 8px 22px #0000001f}.topbar-title{background:transparent;border:none;outline:none;font-size:28px;font-weight:700;color:#fff;min-width:240px}.topbar-controls{display:flex;align-items:center;gap:18px}.topbar-tempo{font-size:14px;opacity:.9}.topbar-time{display:flex;align-items:center;gap:8px}.label{font-size:13px;opacity:.85}.time-btn{padding:4px 10px;border-radius:6px;border:none;cursor:pointer;background:#e5e7eb;color:#111;font-size:13px}.time-btn.active{background:#374151;color:#fff}.duration-btn{padding:6px 12px;border-radius:8px;border:none;cursor:pointer;background:#374151;color:#fff;font-size:13px}.duration-btn:hover{background:#4b5563}.chord-block .duration-input,.chord-block .split-btn,.chord-block button[aria-label="Delete chord"]{opacity:0;pointer-events:none;transition:opacity .12s ease}.chord-block:focus-within .duration-input,.chord-block:focus-within .split-btn,.chord-block:focus-within button[aria-label="Delete chord"]{opacity:1;pointer-events:auto}.chord-block:hover .duration-input,.chord-block:hover .split-btn,.chord-block:hover button[aria-label="Delete chord"]{opacity:1;pointer-events:auto}.chord-block{position:relative}.chord-input{width:100%;background:transparent;border:1px solid transparent;outline:none;text-align:center;font-size:18px;font-weight:700;line-height:1.1;font-family:ui-serif,Georgia,Times New Roman,serif;padding:2px 0}.chord-input:focus{border-color:#00000059;border-radius:4px;background:#00000008}.split-btn{position:absolute;right:2px;bottom:2px;width:20px;height:20px;border-radius:6px;border:1px solid rgba(0,0,0,.18);background:#ffffffbf;color:#000000a6;font-size:14px;font-weight:800;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;transition:opacity .12s ease}.chord-block:hover .split-btn,.chord-block:focus-within .split-btn{opacity:1}.split-btn:hover{background:#fffffff2;color:#000000d9;border-color:#0000004d}.bar-cell{position:relative;display:flex;flex-direction:row;align-items:stretch;flex:0 0 calc((100% - (var(--gap) * (var(--bars-per-row) - 1))) / var(--bars-per-row));min-width:0;box-sizing:border-box;padding:10px 6px;background:transparent;border-right:2px solid rgba(0,0,0,.55)}.bar-system .bar-cell:first-child,.bar-row .bar-cell:first-child{border-left:2px solid rgba(0,0,0,.55)}.bar-number{position:absolute;top:-14px;left:2px;font-size:11px;font-weight:600;color:#00000073;font-family:ui-sans-serif,system-ui,sans-serif;letter-spacing:.3px;-webkit-user-select:none;user-select:none;pointer-events:none}.bar-number.primary{opacity:1}.bar-number.hover-only{opacity:0;transition:opacity .12s ease}.bar-cell:hover .bar-number.hover-only{opacity:1}.bar-cell:hover .bar-number.primary{opacity:0}.insert-bar-btn{position:absolute;top:-12px;right:-11px;z-index:10;width:22px;height:22px;border-radius:50%;border:1px solid rgba(0,0,0,.25);background:#fffffff2;color:#000000b3;font-size:14px;font-weight:800;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;pointer-events:none;transition:opacity .12s ease}.bar-cell:hover .insert-bar-btn{opacity:1;pointer-events:auto}.bar-cell:focus-within .insert-bar-btn{opacity:1;pointer-events:auto}.insert-bar-btn:hover{background:#fff;color:#000;border-color:#00000073}.drag-handle{position:absolute;left:-2px;top:-12px;z-index:12;width:22px;height:22px;border-radius:7px;border:1px solid rgba(0,0,0,.2);background:#fffffff2;color:#0009;font-size:14px;font-weight:800;line-height:1;display:flex;align-items:center;justify-content:center;cursor:grab;opacity:0;pointer-events:none;transition:opacity .12s ease}.drag-handle:active{cursor:grabbing}.bar-cell:hover .drag-handle,.bar-cell:focus-within .drag-handle{opacity:1;pointer-events:auto}body.dragging-bars .drag-handle{opacity:1;pointer-events:auto}.bar-row{--bars-per-row: 4;--gap: 10px;--btn-w: 32px;--btn-gap: 10px;--btn-lane: calc(var(--btn-w) + var(--btn-gap));position:relative;margin-bottom:14px;padding-right:var(--btn-lane);box-sizing:border-box}.bar-system{width:calc(100% - var(--btn-lane));margin:0 auto;box-sizing:border-box;display:flex;flex-direction:row;flex-wrap:nowrap;gap:var(--gap);justify-content:flex-start;align-items:stretch}.add-bar-btn{position:absolute;top:50%;transform:translateY(-50%);right:0;width:var(--btn-w);height:32px;border-radius:8px;border:2px dashed rgba(0,0,0,.22);background:#ffffff8c;color:#0000008c;font-size:18px;font-weight:800;cursor:pointer;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none}.add-bar-btn:hover{background:#ffffffe6;border-color:#0000006b;color:#000000d9}.bar-cell.drop-target{background:#0000000a}.chord-grid{flex:1;display:flex;flex-direction:column;gap:28px}.section-block{display:flex;flex-direction:column;gap:10px}.section-header{font-size:20px;font-weight:700;letter-spacing:1px;padding-left:6px;color:#111;border-bottom:2px solid rgba(0,0,0,.15);padding-bottom:4px}.editor-page{min-height:100vh;background:#f4f5f7;padding:28px 18px;box-sizing:border-box}.editor-shell{max-width:1100px;margin:0 auto}.editor-main{display:flex;gap:18px;align-items:flex-start;background:#fff;border-radius:16px;padding:26px;box-shadow:0 10px 30px #00000014;border:1px solid rgba(0,0,0,.06);max-height:calc(100vh - 140px)}.editor-main>*{min-width:0}.editor-main .chord-grid{overflow:auto}body{background:#faf7f2}.app-sheet{max-width:1100px;margin:0 auto;padding:18px}@media print{body{background:#fff!important}.topbar,.sidebar,button{display:none!important}.bar-cell{border-color:#00000059!important}.chord-input{border-color:transparent!important;background:transparent!important}.duration-input{display:none!important}}
